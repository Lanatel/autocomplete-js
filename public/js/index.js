!function e(t,n,o){function r(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return r(t[s][1][e]||e)}),u,u.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t,n){console.log("Hello"),e("./location_autocomplete")},{"./location_autocomplete":3}],2:[function(e,t,n){t.exports.getCities=function(e){let t=[],n=0;do{s(o[n]).startsWith(s(e))&&t.push(o[n]),n++}while(t.length<5&&o.length>n);return t};let o;(()=>{let e=new XMLHttpRequest;return new Promise((t,n)=>{e.onreadystatechange=function(){4===this.readyState&&200===this.status&&t(this.responseText)},e.open("GET","cities.json",!0),e.send()})})().then(e=>(e=>{let t=JSON.parse(e),n={};for(const e in t)for(const o in t[e])n.hasOwnProperty(o)||(n[o]=[]),t[e][o].forEach(t=>n[o].push(t+(t!==e?", "+e:"")));let o=[];return Object.keys(n).sort().reverse().forEach(e=>o=o.concat(n[e])),o})(e)).then(e=>o=e);const r={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","{":"Х","]":"ъ","}":"Ъ","|":"/","`":"ё","~":"Ё",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж",":":"Ж","'":"э",'"':"Э",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б","<":"Б",".":"ю",">":"Ю","/":".","?":",","@":'"',"#":"№",$:";","^":":","&":"?"},i={"ё":"е","ъ":"ь"},s=e=>e.trim().toLowerCase().replace(/./g,e=>r[e]||i[e]||e)},{}],3:[function(e,t,n){let o=document.getElementsByClassName("location-autocomplete");Array.from(o).forEach(t=>(function(t){let n,o;t.addEventListener("focus",(function(t){this.value="",o||(o=e("./cities"))})),t.addEventListener("input",(function(e){let r,i=this.value;if(s(),!i)return!1;n=-1,(r=document.createElement("DIV")).setAttribute("class","autocomplete-items"),this.parentNode.appendChild(r),o.getCities(i).forEach(e=>{let n=document.createElement("DIV");n.setAttribute("data-value",e),n.innerHTML=`<strong>${e.substr(0,i.length)}</strong>${e.substr(i.length)}`,n.addEventListener("click",(function(e){t.value=this.getAttribute("data-value")})),r.appendChild(n)}),a(r)||r.classList.add("autocomplete-top")})),t.addEventListener("keydown",(function(e){let t=this.parentNode.getElementsByClassName("autocomplete-items");if(t.length>0){let o=t[0].getElementsByTagName("div");switch(e.code){case"ArrowDown":n++,r(o);break;case"ArrowUp":n--,r(o);break;case"Enter":e.preventDefault(),n>-1&&o&&o[n].click()}}})),document.addEventListener("click",(function(e){s(e.target)}));const r=e=>{if(0===e.length)return!1;i(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("autocomplete-active")},i=e=>Array.from(e).forEach(e=>e.classList.remove("autocomplete-active")),s=e=>{let t=document.getElementsByClassName("autocomplete-items");Array.from(t).forEach(t=>{e!==t&&t.parentNode.removeChild(t)})},a=e=>window.innerHeight-e.getBoundingClientRect().top>e.offsetHeight})(t))},{"./cities":2}]},{},[1]);
